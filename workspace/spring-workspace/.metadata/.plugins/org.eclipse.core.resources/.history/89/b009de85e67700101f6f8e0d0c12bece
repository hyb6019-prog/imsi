<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
	.photo-list-wrap{
		width: 1200px;
		margin: 0 auto;
	}
	.write-btn{
		display : inline-block;
	}
</style>
</head>
<body>
	<th:block th:include="common/header"></th:block>
	<main class="content">
		<section class="section photo-list-wrap">
			<div class="page-title">사진게시판</div>
			<div th:if="${session.member != null}">
				<a href="/photo/writeFrm" class="btn-point write-btn">글쓰기</a>
			</div>
			<ul class="photoWrapper posting-wrap">
				
			</ul>
			<div class="btn-zone">
				<button class="btn-point lg" id="more-btn">더보기</button>
			</div>
		</section>
	</main>
	
	<script th:inline="javascript">
		const totalCount = [[${totalCount}]]; 	//페이지 들어올 때 조회해온 전체 게시물 수
		let currentCount = 0;					//현재까지 읽어온 게시물 수를 저장
		let start = 1;							//추가로 가져올 게시물의 시작번호
		const amount = 4;						//더보기 한번 클릭 시 추가로 가져올 게시물 수
		
		$("#more-btn").on("click", function(){
			$.ajax({
				url : "/photo/more",
				type : "get",
				data : {start : start, amount : amount},
				success : function(data){
					console.log(data);
					for(let i=0; i<data.length; i++){
						const p = data[i];
						
						const li = $("<li>");
						li.addClass("posting-item");
						//<li class="posting-item"></li>
						const imgDiv = $("<div>");
					}
				},
				error : function(){
					console.log("에러");
				}
			})
		});
	</script>
	<th:block th:include="common/footer"></th:block>
</body>
</html>