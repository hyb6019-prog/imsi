<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<th:block th:include="common/header"></th:block>
	<main class="content">
		<section class="section">
			<div class="page-title">부산맛집</div>
			<table class="tbl tbl-border busan">
				<tr>
					<th style="width:15%;">이미지</th>
					<th style="width:15%;">상호명</th>
					<th style="width:20%;">주소</th>
					<th style="width:15%;">전화번호</th>
					<th style="width:35%;">소개</th>
				</tr>
			</table>
			<div class="btn-zone">
				<button id="more-btn" class="btn-primary lg">더보기</button>
			</div>
		</section>
	</main>
	<script>
		let pageNo = 1;
		$("#more-btn").on("click", function(){
			$.ajax({
				url : "/api/busanPlace",
				type : "get",
				data : {pageNo : pageNo},
				success : function(data){
					console.log(data);
					for(let i=0; i<data.length; i++){
						const bp = data[i];
						
						/*
						<tr>
							<td>
								<img src="경로">
							</td>
							<td>상호명</td>
							<td>전화번호</td>
							<td>주소</td>
							<td>소개</td>
						</tr>
						*/
						const tr = $("<tr>");
						
						const imgTd = $("<td>");
						const img = $("<img>");
						img.attr("src", bp.thumb);
						img.attr("width","100%");
						imgTd.append(img);
						
						const titleTd = $("<td>");
						titleTd.text(bp.title);
						
						const telTd = $("<td>");
						telTd.text(bp.tel);
						
						const addrTd = $("<td>");
						addrTd.text(bp.addr);
						
						const introTd = $("<td>");
						introTd.text(bp.intro);
						
						tr.appent(imgTd).append(titleTd).append(telTd).append(addrTd).append(introTd);
					}
				},
				error : function(){
					console.log("에러");
				}
			});
		});
	</script>
	<th:block th:include="common/footer"></th:block>
</body>
</html>